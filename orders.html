<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <!-- The title will be translated -->
  <title data-i18n-key="orders_page_title">ðŸ§¾ Orders</title>

  <meta name="theme-color" content="#007aff">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="icon" type="image/png" href="./icons/icon-192x192.png">
<link rel="apple-touch-icon" href="./icons/icon-192x192.png">
  <!-- Link to the PWA manifest -->
  <link rel="manifest" href="./manifest.json">
  
  <!-- Link to shared CSS for anti-flicker and page-specific CSS -->
  <link rel="stylesheet" href="./css/shared.css" />
  <link rel="stylesheet" href="./css/orders.css" />
</head>

<!-- Add the 'loading-translations' class to prevent FOUT -->
<body class="loading-translations">

  <!-- Full-width Navigation Bar -->
  <nav class="main-nav">
    <div class="nav-links">
      <a href="./orders.html" class="nav-link active">ðŸ›’<span class="nav-text" data-i18n-key="nav_orders">Orders</span></a>
      <a href="./products.html" class="nav-link">ðŸ“¦<span class="nav-text" data-i18n-key="nav_products">Products</span></a>
      <a href="./borrowers.html" class="nav-link">ðŸ‘¥<span class="nav-text" data-i18n-key="nav_borrowers">Borrowers</span></a>
      <a href="./statistics.html" class="nav-link">ðŸ“Š<span class="nav-text" data-i18n-key="nav_statistics">Statistics</span></a>
      <a href="./import_export.html" class="nav-link">ðŸ”„<span class="nav-text" data-i18n-key="nav_import_export">Import/Export</span></a>
    </div>
  </nav>

  <main>
    <header class="page-header">
        <h1 data-i18n-key="header_order_manager">Order Manager</h1>
        <div class="language-select-wrapper">
          <!-- The language switcher UI would go here if needed on this page -->
        </div>
        <button id="manageUsersBtn" data-i18n-key="tooltip_manage_users" title="Manage Users & Passwords"><i class="bi bi-gear-fill"></i></button>
    </header>
    
    <div class="actions-container">
      <div class="action-buttons">
          <button id="addOrderBtn">âž•<span class="button-text" data-i18n-key="btn_new_order">New Order</span></button>
          <button id="showStatsBtn" class="privacy-data">ðŸ“Š<span class="button-text" data-i18n-key="btn_statistics">Statistics</span></button>
          <button id="sortByDateBtn">ðŸ“…<span class="button-text" data-i18n-key="btn_by_date">By Date</span></button>
          <button id="sortByTotalBtn">ðŸ’°<span class="button-text" data-i18n-key="btn_by_total">By Total</span></button>
          <button id="sortByProfitBtn" class="privacy-data">ðŸ“ˆ<span class="button-text" data-i18n-key="btn_by_profit">By Profit</span></button>
      </div>
    </div>

    <ul id="ordersList">
      <!-- Order items will be injected here by JavaScript -->
    </ul>
  </main>

  <!-- MODALS -->
  <!-- Order Modal -->
  <div id="orderModal" class="modal hidden">
    <div class="modal-content">
      <button id="closeModal" class="close" aria-label="Close modal">&times;</button>
      <h2 id="modalTitle" data-i18n-key="modal_title_new_order">New Order</h2>
      <div id="modalBody"></div>
    </div>
  </div>

  <!-- Statistics Modal -->
  <div id="statsModal" class="modal hidden">
    <div class="modal-content">
    <button id="closeStatsModal" class="close" aria-label="Close modal">&times;</button>
      <h2 data-i18n-key="modal_title_order_stats">ðŸ“Š Order Statistics</h2>
      <div id="statsModalBody"></div>
    </div>
  </div>

  <!-- Borrower Modal -->
  <div id="borrowerModal" class="modal hidden">
    <div class="modal-content">
      <button id="closeBorrowerModal" class="close" aria-label="Close modal">&times;</button>
      <h2 data-i18n-key="modal_title_link_borrower">Link Order to Borrower</h2>
      <div id="borrowerModalBody"></div>
    </div>
  </div>
  
  <!-- External Libraries & Main Application Logic -->
  <script src="./libs/sql-wasm.js"></script>
  <script type="module" src="./js/main.js"></script>

</body>
</html>